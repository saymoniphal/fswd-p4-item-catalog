{% extends "base.html" %}

{% block content %}
{% if item %}
<h2>Edit Item</h2>
{% else %}
<h2>New Item</h2>
{% endif %}
<p>in category <strong>{{ cat.name }}</strong></p>
<form method="post" class="form-horizontal">
  <div class="form-group">
    <input class="form-control" type="hidden" name="item_id" value="{{ item.item_id }}">
  </div>

  <div class="form-group">
    <label for="name" class="control-label">
      Name 
    </label>
    <input type="text" class="form-control col-md-10"
	   name="name" value="{{item.name}}">
  </div>

  <div class="form-group">
    <label for="description" class="control-label">
      Description 
    </label>
    <textarea class="form-control col-md-10"
	      rows="10" name="description">{{item.description}}</textarea>
  </div>
  
  {% if item %}
    <label for="category" class="control-label">
      Category
    </label>

  <!-- <div class="dropdown"> -->
  <!--   <button class="btn btn-default dropdown-toggle" type="button" id="categorylist" data-toggle="dropdown"> -->
  <!--     {{ item.category.name }} -->
  <!--   <span class="caret"></span> -->
  <!--   </button> -->
  <!--   <ul class="dropdown-menu" aria-labelledby="categorylist"> -->
  <!--     {% for cat in categories %} -->
  <!--     <li>{{ cat.name }}</li> -->
  <!--     {% endfor %} -->
  <!--   </ul> -->
  <!-- </div> -->

  <div class="row">
    <div class="col-md-4">
      <select name="categoryid">
	{% for cat in categories %}
	<option value="{{cat.category_id}}"
		{% if cat.category_id == item.category.category_id %}
		selected
		{% endif %}
		>
	  {{ cat.name }}
	</option>
	{% endfor %}
      </select>
    </div>
    </div>
  {% endif %}
  <div class="form-group">
    <label class="col-md-12 error text-center">{{error}}</label>
  </div>

  <div class="form-group">
    <button class="btn btn-primary" name="post_action" value="save_item">Save</button>
    <button class="btn btn-warning" name="post_action" value="cancel_item">Cancel</button>
  </div>
</form>
{% endblock %}
